<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>직책 관리</title>
    <link rel="stylesheet" href="	/css/admin/position/positionManage.css">
</head>
<body>
	
<div th:replace="~{admin/left/adminLeftSideBar}"></div>
<div th:replace="~{common/common}"></div>

<div id="titleContainer">
	<div></div>
	<div>
		<h1 >직책 관리</h1>	
	</div>
</div>


<div id="fullContainer">

	
	<div id="innerRightContainer">
		<div class="container">
				    <table id="positionTable">
						
				        <thead>
				            <tr>
				                <th>순서</th>
				                <th>직책</th>
				                <th></th>
				            </tr>
				        </thead>
						
				        <tbody>
				            <tr>
				                <td>1</td>
				                <td><input type="text" value="대표"></td>
				                <td><button class="btn btn-danger" onclick="deleteRow(this)">삭제</button></td>
				            </tr>
				            <tr>
				                <td>2</td>
				                <td><input type="text" value="부장"></td>
				                <td><button class="btn btn-danger" onclick="deleteRow(this)">삭제</button></td>
				            </tr>
				            <tr>
				                <td>3</td>
				                <td><input type="text" value="과장"></td>
				                <td><button class="btn btn-danger" onclick="deleteRow(this)">삭제</button></td>
				            </tr>
				            <tr>
				                <td>4</td>
				                <td><input type="text" value="대리"></td>
				                <td><button class="btn btn-danger" onclick="deleteRow(this)">삭제</button></td>
				            </tr>
				            <tr>
				                <td>5</td>
				                <td><input type="text" placeholder="직책을 입력하세요"></td>
				                <td><button class="btn btn-danger" onclick="deleteRow(this)">삭제</button></td>
				            </tr>
				        </tbody>
				    </table>
				    <div class="add-position" onclick="addRow()">+ 직책 추가</div>
				    <div class="text-center">
				        <button class="btn">저장</button>
				        <button class="btn">취소</button>
				    </div>
				</div>
	</div>
		
</div>

<script>

    function deleteRow(button) {
        // Get the table body
        var tableBody = document.getElementById('positionTable').getElementsByTagName('tbody')[0];
        
        // Check if there is only one row left
        if (tableBody.rows.length === 1) {
            alert("최소 한 개의 직책은 유지되어야 합니다.");
            return;
        }
        
        // Get the row to be deleted
        var row = button.parentNode.parentNode;
        // Remove the row from the table
        tableBody.removeChild(row);
        
        // Update the sequence numbers of the remaining rows
        var rows = tableBody.getElementsByTagName('tr');
        for (var i = 0; i < rows.length; i++) {
            rows[i].getElementsByTagName('td')[0].innerHTML = i + 1;
        }
    }


    function addRow() {
        // Get the table body element
        var tableBody = document.getElementById('positionTable').getElementsByTagName('tbody')[0];
        // Insert a new row at the end of the table
        var newRow = tableBody.insertRow();
        // Insert cells into the new row
        var cell1 = newRow.insertCell(0);
        var cell2 = newRow.insertCell(1);
        var cell3 = newRow.insertCell(2);
        // Set the content of the new cells
        cell1.innerHTML = tableBody.rows.length;
        cell2.innerHTML = '<input type="text" placeholder="직책을 입력하세요">';
        cell3.innerHTML = '<button class="btn btn-danger" onclick="deleteRow(this)">삭제</button>';
    }
</script>

</body>
</html>
